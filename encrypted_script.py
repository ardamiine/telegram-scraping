import base64
exec(base64.b64decode('CmZyb20gdGVsZXRob24uc3luYyBpbXBvcnQgVGVsZWdyYW1DbGllbnQKZnJvbSB0ZWxldGhvbi50bC5mdW5jdGlvbnMuY2hhbm5lbHMgaW1wb3J0IEludml0ZVRvQ2hhbm5lbFJlcXVlc3QKaW1wb3J0IGNzdgppbXBvcnQgdGltZQoKIyBBTlNJIGVzY2FwZSBjb2RlcyBmb3IgY29sb3JzCkNZQU4gPSAiXDAzM1s5Nm0iCllFTExPVyA9ICJcMDMzWzkzbSIKUkVTRVQgPSAiXDAzM1swbSIKCnByaW50KENZQU4gKyAiQnkgTXJUZW5cbiIpCnByaW50KFlFTExPVyArICIgICAgICAgICAgIF8gICAgICAgICAiKQpwcmludChZRUxMT1cgKyAiICAgICAgICAgLT1cXGBcXCAgICAgICIpCnByaW50KFlFTExPVyArICIgICAgIHxcXCBfX19fXFxfXFxfXyAgICIpCnByaW50KFlFTExPVyArICIgICAtPVxcY2BcIlwiXCJcIlwiXCIgXCJgKSAiKQpwcmludChZRUxMT1cgKyAiICAgICAgICBgfn5+fn4vIC9+fmAiKQpwcmludChZRUxMT1cgKyAiICAgICAgICAtPT0vIC8gICAgICAgIikKcHJpbnQoWUVMTE9XICsgIiAgICAgICAgICAnLScgICAgICAgICIgKyBSRVNFVCkKCkFQSV9JRCA9ICcyNDMzOTQxMycKQVBJX0hBU0ggPSAnYTczOGU0ZDBmODg1ZWNiOWRjNDQ1NGQ1ZDg5ZGY3MDQnClBIT05FID0gJysyMTY5NjIxNjI2NCcKClRBUkdFVF9HUk9VUCA9ICdiZXJsaW5zbW9rZXJzVGVuJwpDU1ZfRklMRSA9ICd0ZWxlZ3JhbV9ncm91cF9tZW1iZXJzLmNzdicKCmRlZiByZW1vdmVfc3VjY2Vzc2Z1bF9tZW1iZXIodXNlcm5hbWUpOgogICAgd2l0aCBvcGVuKENTVl9GSUxFLCAncicsIGVuY29kaW5nPSd1dGYtOCcpIGFzIGNzdmZpbGU6CiAgICAgICAgcm93cyA9IGxpc3QoY3N2LkRpY3RSZWFkZXIoY3N2ZmlsZSkpCiAgICAKICAgIHdpdGggb3BlbihDU1ZfRklMRSwgJ3cnLCBlbmNvZGluZz0ndXRmLTgnLCBuZXdsaW5lPScnKSBhcyBjc3ZmaWxlOgogICAgICAgIGZpZWxkbmFtZXMgPSByb3dzWzBdLmtleXMoKSBpZiByb3dzIGVsc2UgWydVc2VybmFtZScsICdVc2VyIElEJ10KICAgICAgICB3cml0ZXIgPSBjc3YuRGljdFdyaXRlcihjc3ZmaWxlLCBmaWVsZG5hbWVzPWZpZWxkbmFtZXMpCiAgICAgICAgd3JpdGVyLndyaXRlaGVhZGVyKCkKICAgICAgICBmb3Igcm93IGluIHJvd3M6CiAgICAgICAgICAgIGlmIHJvdy5nZXQoJ1VzZXJuYW1lJykgIT0gdXNlcm5hbWUgYW5kIHJvdy5nZXQoJ1VzZXIgSUQnKSAhPSBzdHIodXNlcm5hbWUpOgogICAgICAgICAgICAgICAgd3JpdGVyLndyaXRlcm93KHJvdykKCmRlZiBhZGRfbWVtYmVyc19mcm9tX2NzdigpOgogICAgd2l0aCBUZWxlZ3JhbUNsaWVudCgnc2Vzc2lvbl9uYW1lJywgQVBJX0lELCBBUElfSEFTSCkgYXMgY2xpZW50OgogICAgICAgIHByaW50KCJDbGllbnQgaW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5LiIpCiAgICAgICAgdHJ5OgogICAgICAgICAgICBncm91cCA9IGNsaWVudC5nZXRfZW50aXR5KFRBUkdFVF9HUk9VUCkKICAgICAgICAgICAgcHJpbnQoZiJGZXRjaGVkIHRhcmdldCBncm91cDoge1RBUkdFVF9HUk9VUH0iKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZiJFcnJvciBmZXRjaGluZyBncm91cDoge2V9IikKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgCiAgICAgICAgcHJpbnQoZiJSZWFkaW5nIG1lbWJlcnMgZnJvbSB7Q1NWX0ZJTEV9Li4uIikKICAgICAgICBtZW1iZXJzX3RvX2FkZCA9IFtdCiAgICAgICAgd2l0aCBvcGVuKENTVl9GSUxFLCAncicsIGVuY29kaW5nPSd1dGYtOCcpIGFzIGNzdmZpbGU6CiAgICAgICAgICAgIHJlYWRlciA9IGNzdi5EaWN0UmVhZGVyKGNzdmZpbGUpCiAgICAgICAgICAgIGZvciByb3cgaW4gcmVhZGVyOgogICAgICAgICAgICAgICAgaWYgJ1VzZXJuYW1lJyBpbiByb3cgYW5kIHJvd1snVXNlcm5hbWUnXToKICAgICAgICAgICAgICAgICAgICBtZW1iZXJzX3RvX2FkZC5hcHBlbmQocm93WydVc2VybmFtZSddKQogICAgICAgICAgICAgICAgZWxpZiAnVXNlciBJRCcgaW4gcm93IGFuZCByb3dbJ1VzZXIgSUQnXToKICAgICAgICAgICAgICAgICAgICBtZW1iZXJzX3RvX2FkZC5hcHBlbmQoaW50KHJvd1snVXNlciBJRCddKSkKICAgICAgICAKICAgICAgICBwcmludChmIkZvdW5kIHtsZW4obWVtYmVyc190b19hZGQpfSBtZW1iZXJzIHRvIGFkZC4iKQogICAgICAgIGZvciBtZW1iZXIgaW4gbWVtYmVyc190b19hZGQ6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHByaW50KGYiQWRkaW5nIG1lbWJlcjoge21lbWJlcn0uLi4iKQogICAgICAgICAgICAgICAgY2xpZW50KEludml0ZVRvQ2hhbm5lbFJlcXVlc3QoZ3JvdXAsIFttZW1iZXJdKSkKICAgICAgICAgICAgICAgIHByaW50KGYiU3VjY2Vzc2Z1bGx5IGFkZGVkOiB7bWVtYmVyfSIpCiAgICAgICAgICAgICAgICByZW1vdmVfc3VjY2Vzc2Z1bF9tZW1iZXIobWVtYmVyKQogICAgICAgICAgICAgICAgdGltZS5zbGVlcCgzMCkKICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgcHJpbnQoZiJGYWlsZWQgdG8gYWRkIHttZW1iZXJ9OiB7ZX0iKQogICAgICAgICAgICAgICAgcHJpbnQoIldhaXRpbmcgZm9yIDEgaG91ciBkdWUgdG8gYW4gZXJyb3IuLi4iKQogICAgICAgICAgICAgICAgdGltZS5zbGVlcCgzNjAwKQogICAgICAgICAgICAgICAgY29udGludWUKCiAgICAgICAgcHJpbnQoIkZpbmlzaGVkIGFkZGluZyBtZW1iZXJzLiIpCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgYWRkX21lbWJlcnNfZnJvbV9jc3YoKQo=').decode())